{% extends 'dashboard_base.html' %}
{% set active_page = "expense.expenses" %}
{% block title %}Add Expense{% endblock %}


{% block content %}
	<div class="container px-5">
		<div class="row">
			<div class="col-md-12 col-xl-12">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            {% endif %}
            {% endwith %}
            <form id="edit-form" action=""  method="post" class="bg-success-subtle my-4 p-4">
                <h3 class='mb-3'>Add Expense</h3>
                <div class="form-group mt-2 mb-3">
                    <label for="name" class="form-label text-black">Category Name</label>
                    <input type="text" name="category" class="form-control field-name" placeholder="Category name">
                </div>

                <div class="form-group mt-2 mb-3">
                    <label for="amount" class="form-label text-black">Amount</label>
                    <input type="number" name="amount"  class="form-control field-amount" step=".01" placeholder="Amount">
                </div>

                <div class="form-group mt-2 mb-3">
                    <div class="form-group mt-2 mb-0">
                        <label for="budget-select" class="form-label text-black">Select Budget</label>
                        <select name="budget-select" title="budget-select" id="budget-select" class="form-select field-rank">
                            {% for budget in budgets %}
                                <option value="{{budget.id}}">{{budget.name}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-12 mt-2">
                        <button type="submit" id="add_budget" name="add_budget" class="btn btn-lg btn-success">Add</button>
                    </div>
                </div>
            </form>
			</div>
		</div>
	</div>
{% endblock %}